<!doctype html> 
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Style Sheets -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/css/select2.min.css" rel="stylesheet" />
    <link href='https://api.mapbox.com/mapbox-gl-js/v1.9.1/mapbox-gl.css' rel='stylesheet' />
    <link rel="stylesheet" href="https://use.typekit.net/onw2tsq.css">
    <link rel="stylesheet" type="text/css" href="../styles/general-style.css">

    <title>Covid Tracker</title>
  </head>
  <body>
      <!-- BROWSER ALERT IF INTERNET EXPLORER -->
    <div id="browserAlert" class="absolute fl py24 px24 bg-gray-faint">
      <form>
        <div>
          <h2 id="alertTitle">Incompatible Browser</h2>
        </div>
      </form>
      <form class="form-section">
        <p>Internet Explorer is not supported for this application. Consider using a modern browser, like <a href="https://www.mozilla.org/en-US/firefox/">Firefox</a> or <a href="https://www.google.com/chrome/?brand=CHBD&gclid=Cj0KCQiA9orxBRD0ARIsAK9JDxQooLNBVWKnhoNjDhPEJYrvjeG_utpeIG0PvGnx1EO4qqfoUkpiAR8aArMfEALw_wcB&gclsrc=aw.ds">Chrome</a>. </p>
      </form>
    </div>

    <div class="container">
      <h1 id="title" class='start center-title'>Sorting Through the COVID Data</h1>
      <div  id="g-statwide-bar-line-box" class="row ai2html">
        <div  id="g-statwide-bar-line-Artboard_1" class="col-xl g-artboard" data-aspect-ratio="2" data-min-width="0">
          <img src="../images/statewideBars.png"  id="g-statwide-bar-line-Artboard_1-img" class="g-aiImg" alt="Responsive image">
          <div id="g-ai0-1" class="g-Layer_1 g-aiAbs g-aiPointText" style="top:16.5062%;margin-top:-7px;left:6.5%;width:75px;">
            <p class="g-pstyle0">1,500 cases</p>
          </div>
          <div id="g-ai0-2" class="g-Layer_1 g-aiAbs g-aiPointText" style="top:77.0062%;margin-top:-7px;left:6.5%;width:68px;">
            <p class="g-pstyle0">250 cases</p>
          </div>
          <div id="g-ai0-3" class="g-Layer_1 g-aiAbs g-aiPointText" style="top:93.8601%;margin-top:-6.4px;left:6%;width:47px;">
            <p class="g-pstyle1">Mar 2</p>
          </div>
          <div id="g-ai0-4" class="g-Layer_1 g-aiAbs g-aiPointText" style="top:93.8601%;margin-top:-6.4px;left:91.06%;width:50px;">
            <p class="g-pstyle1">Apr 29</p>
          </div>
        </div>
      </div>
      <span class='subtitle'>Daily COVID-19 cases in Georgia | Data: <a href="https://github.com/nytimes/covid-19-data">The New York Times</a></span>

      <div class="row">
        <p class="lead copy">The coronavirus pandemic has resulted in millions of infections and hundreds of thousands of deaths around the globe, not to mention an economic slowdown that feels unprecedented in both scope and uncertainty. Understandably, the last couple of months have created a lot of stress and anxiety for many. As a data analyst and someone who still reads the paper, one of those anxities has been the constant flood of charts, graphs, tools, animations, and a constant supply of indexes and "COVID trackers." It's been tough to sort through what exactly we should be paying attention to, and what information is as close an approximation to reality. So, I've attempted to sort.</p>

        <p class="copy">Living in Georgia, I'm mostly concerned with two things concerning data - consistent, reliable methodology, and as local as possible in geography. <a href="https://coronavirus.jhu.edu/">Johns Hopkins</a> has one of the better global tracking tools I've come across, both in frequency and clarity. When it comes to testing, The Atlantic has established its <a href="https://covidtracking.com/">COVID Tracking Project</a>, with access to spreadsheet or API for developers. They even have a system to grade states on their data quality (Georgia gets an A!). And speaking of Georgia, their <a href="https://dph.georgia.gov/covid-19-daily-status-report">Department of Public Health</a> has some pretty good stuff that's accessible and thorough.</p>

        <p class="copy">All that said, I'm particularly interested in seeing daily cases and deaths at the county level, updated every day, and made publicly available. Th most consistent source I've found for this is The New York Times database their reporters have created for each county in the US. It's <a href="https://github.com/nytimes/covid-19-data">available as a csv</a> file for both states and counties. Using this, we can get a closer look at not just Georgia's counties, but Georgia's MSAs and state-specific areas like Regional Commissions. Using this data from NYT, we can produce something like the following...</p>
      </div>
    </div>

    <!-- SCROLLYTELLING BIT WITH SVG CHART -->
    <section id='scrolly-overlay'>
      <div class="scrolly">
        <!-- graphic container -->
        <figure id="graphicContainer" class="sticky">
          <object id="svgChartObject" type="image/svg+xml" data="../images/statewide-bar-line.svg"></object>
        </figure>

        <!-- step/text container -->
        <article class="center-scroll">
          <div class="step" id='1'>
            <p>STEP 1</p>
          </div>
          <div class="step" id='2'>
            <p>STEP 2</p>
          </div>
          <div class="step" id='3'>
            <p>STEP 3</p>
          </div>
          <div class="step" id='4'>
            <p>STEP 4</p>
          </div>
          <div class="step" id='5'>
            <p>STEP 5</p>
          </div>
        </article>
      </div>      
    </section>

    <h1 id="geo" class='center-title'>Georgia</h1>
    <p class='center-subtitle'>Use the map below to explore covid and vulnerability data relevant to your community.</p>
    <!-- APPLICATION CONTAINER -->
    <div class="container-fluid">
      
      <!-- top container for the dropdown, legend, and ccvi score containers -->
      <div id='appContainer' class="container-fluid" style="height: 85vh; max-height: 822px;">
        <div id="topRow" class="row">
          <div class="col-2"></div>
          <div class="col-8">
            <div class="row">
              <div class="col-3">
                <h5 class='select-title'>Geography</h5>
                <select id="level-select" class="single-select" name="state">
                  <option value="state">State</option>
                  <option value="county">County</option>
                  <option value="msa">MSA</option>
                  <option value="rc">Regional Commission</option>
                </select>
              </div>
              <div class="col-3">
                <h5 class='select-title'>Area</h5>
                <select id="geo-select" class="single-select" name="state">
              		<option value="0">Georgia</option>
              	</select>
              </div>
              <div class="col-3">
                <h5 class='select-title'>Map Fill Layer</h5>
                <select id="fill-select" class="single-select" name="state">
                  <option value="0">CCVI Score</option>
                  <option value="1">Socioeconomic Status</option>
                  <option value="2">Household & Disability</option>
                  <option value="3">Minority & Language</option>
                  <option value="4">Housing & Transportation</option>
                  <option value="5">Epidemiologic Factors</option>
                  <option value="6">Healthcare System</option>
                  <option value="7">Pct. Uninsured</option>
                  <option value="8">Pct. Over 65</option>
                  <option value="9">Cases per 1,000</option>
                  <option value="10">Deaths per 1,000</option>
                  <option value="11">Current Week Change per 100k</option>
                </select>
              </div>
              <div class="col-3">
                <h5 class='select-title'>Map Point Layer</h5>
                <select id="point-select" class="single-select" name="state">
                  <option value="0">Cases per 1,000</option>
        				  <option value="1">Deaths per 1,000</option>
        				  <option value="2">Total Cases</option>
        				  <option value="3">Total Deaths</option>
                </select>
              </div>
            </div>
            <div class="row">
              <div class="col-6 map-key">
                <div class="key-bubbles">
                  <div class="key-bubble-label"><span id="minSize" class="min-key-value key-value">0 cases</span></div>
                  <div class="key-bubbles-wrap">
                    <div class="key-bubble" style="width: 4px; height: 4px;"></div>
                    <div class="key-bubble" style="width: 14px; height: 14px;"></div>
                    <div class="key-bubble" style="width: 44px; height: 44px;"></div>
                  </div>
                  <div class="key-bubble-label"><span id="maxSize" class="max-key-value key-value">20 +</span></div>
                </div>
              </div>
              <div class="col-6 map-key">
                <div class="key-bars">
                  <div class="key-subhead">CCVI Score</div>
                  <div class="g-bars">
                    <div class="g-bar g-bar-tick"><div class="g-level g-level-0"></div></div>
                    <div class="g-bar g-bar-tick"><div class="g-level g-level-1"></div></div>
                    <div class="g-bar g-bar-tick"><div class="g-level g-level-2"></div></div>
                    <div class="g-bar g-bar-tick"><div class="g-level g-level-3"></div></div>
                    <div class="g-bar g-bar-none"><div class="g-level g-level-4"></div></div>
                  </div>
                  <div class="g-level-labels">
                    <div id="minFill" class="g-level-label .g-level-label-first">Low Risk</div>
                    <div class="g-level-label"></div>
                    <div class="g-level-label"></div>
                    <div class="g-level-label"></div>
                    <div id="maxFill" class="g-level-label .g-level-label-first">High Risk</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-2"></div>
        </div>
        <div id="bottomRow" class="row">
          <div id="mapWrapper" class="col-5">
            <div id="map"></div>
          </div>
          <div id="chartWrapper" class="col-7">
          	<div id='componentScoresRow' class="row">
          		<div class="col">
                <h3 id="kpiOne" class='kpi'></h3>
                <p class='kpi-sub'>Total Cases</p>
              </div>
          		<div class="col">
                <h3 id="kpiTwo" class='kpi'></h3>
                <p class='kpi-sub'>Total Deaths</p>
              </div>
              <div class="col">
                <h3 id="kpiThree" class='kpi'></h3>
                <p class='kpi-sub'>Cases per 1,000</p>
              </div>
          		<div class="col">
                <h3 id="kpiFour" class='kpi'></h3>
                <p class='kpi-sub'>Cases in Last Two Weeks</p>
              </div>
          	</div>
          	<div id="chartsTitleRow" class="row">
          		<div class="col"><h3 class="chart-title">Confirmed Cases</h3></div>
          		<div class="col"><h3 class="chart-title">Confirmed Deaths</h3></div>
          	</div>
      		<div id="chartsRow" class="row">
      			<div id="casesLine" class="col-6">
      				<!-- this is where the chart will drop via d3 and charts.js -->
	      		</div>
	      		<div id="deathsLine" class="col-6">
              <!-- this is where the chart will drop via d3 and charts.js -->
	      		</div>
      		</div>
          </div>
        </div>
      </div>

    </div>

    <script src="https://code.jquery.com/jquery-3.5.0.slim.min.js" integrity="sha256-MlusDLJIP1GRgLrOflUQtshyP0TwT/RHXsI1wWGnQhs=" crossorigin="anonymous"></script>
    <script src='https://api.mapbox.com/mapbox-gl-js/v1.9.1/mapbox-gl.js'></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/js/select2.min.js"></script>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script src="https://rawgit.com/susielu/d3-annotation/master/d3-annotation.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/scrollama/2.2.1/scrollama.min.js" type="text/javascript"></script>
    <!-- load all scripts here  -->
    <script type="text/javascript" src="js/data.js"></script>
    <script type="text/javascript" src="js/selections.js"></script>
    <script type="text/javascript" src="js/scrolly.js"></script>
    <script type="text/javascript" src="js/map.js"></script>
    <script type="text/javascript" src="js/charts.js"></script>
  </body>
</html>